{% extends 'admin.html.twig' %}

{% block body %}
<div class="container mt-3">
{% for message in app.flashes('notice') %}
    <div class="alert alert-danger">
        {{ message }}
    </div>
{% endfor %}
        <table class="table">
        <thead class="black white-text">
            <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Message</th>
            <th scope="col">Action</th>
            </tr>
        </thead>
    {% for message in messages %}
        {% if message.flag == '1' %}
        <tbody>
            <tr class="grey lighten-2">
            <th scope="row">{{ message.id}}</th>
            <td>{{ message.name}}</td>
            <td>{{  message.email}}</td>
            <td>{{ message.message }}</td>
            <td><a class="btn btn-warning" href="{{ path('view_message',{'id': message.id}) }}">VIEW</a> <a class="btn btn-danger" href="{{ path('delete_message',{'id': message.id}) }}">DELETE</a></td>
            </tr>
        </tbody>
        {% else %}
                <tbody>
            <tr>
            <th scope="row">{{ message.id}}</th>
            <td>{{ message.name}}</td>
            <td>{{  message.email}}</td>
            <td>{{ message.message }}</td>
            <td><a class="btn btn-warning" href="{{ path('view_message',{'id': message.id}) }}">VIEW</a> <a class="btn btn-danger" href="{{ path('delete_message',{'id': message.id}) }}">DELETE</a></td>
            </tr>
        </tbody>
        {% endif %}
    {% endfor %}
    </table>
</div>
{% endblock %}